# 南瓜数据分析与预测项目
## 项目概述
本项目旨在通过对美国南瓜价格数据的分析，探索南瓜价格与时间、品种之间的关系，并构建预测模型。数据来源于 `US-pumpkins.csv` 文件，通过数据预处理、可视化分析以及机器学习模型的应用，最终实现对南瓜价格的预测。

## 数据来源
数据文件：`US-pumpkins.csv`  

## 数据预处理
1. **数据筛选**：筛选出包含“bushel”单位的记录。
2. **特征提取**：
   - 提取月份数据：从日期列中提取月份。
   - 计算平均价格：通过 `(Low Price + High Price) / 2` 计算平均价格。
   - 特殊情况处理：对包含“1 1/9”和“1/2”单位的记录进行价格调整。
3. **缺失值处理**：删除缺失值。

## 数据可视化
1. **散点图**：绘制南瓜平均价格与月份的关系图。
![image](https://github.com/user-attachments/assets/4e509360-0087-453f-98e0-88bb38aa4bfe)

根据散点图显示，南瓜价格呈现明显的​​季节性波动​​：
​​高价期​​（12月-1月）：价格集中在35−50区间
​​低价期​​（8月-9月）：价格集中在15−25区间
​​过渡期​​（10月-11月）：价格呈阶梯式上升，从25逐渐攀升至35

2. **分组直方图**：按月份分组绘制南瓜价格的月度分布图。
![image](https://github.com/user-attachments/assets/67d3ac0f-ba41-4cbd-8d69-3e3d4b21c99a)
南瓜的最高价格出现在9月和10月

3. **分色散点图**：按南瓜品种分色绘制销售日期与价格的关系图。
![image](https://github.com/user-attachments/assets/b0f712c8-b06f-481a-8835-03522cf7b4c3)
品种	价格范围(美元)	主要集中区间	离散程度
PIE TYPE	10-28	15-22	低
MINIATURE	25-48	30-40	高
FAIRYTALE	18-35	22-28	中
MIXED HEIRLOOM	15-38	20-30	中高
品种对整体价格的影响比销售日期更大

4. **PIE TYPE南瓜散点图**：绘制“PIE”南瓜的销售日期与价格散点图。
![image](https://github.com/user-attachments/assets/551d5d4e-e1d7-4cf1-a4a0-2ea3c8db1da9)

## 模型评估结果
<img width="485" alt="image" src="https://github.com/user-attachments/assets/a5363d6e-5129-45d2-94cf-6cb5e4d35c03" />



## 模型构建与评估
1. **简单线性回归**：
   - 使用年度日期序号作为特征，南瓜价格作为目标变量。
   - 划分训练集和测试集，训练线性回归模型。
   - 评估指标：均方根误差（RMSE）、R² 分数。
2. **多项式回归**：
   - 使用南瓜品种的独热编码作为特征，南瓜价格作为目标变量。
   - 构建二次多项式回归模型。
   - 评估指标：均方根误差（RMSE）、平均绝对误差（MAE）、R² 分数。
3. **可视化结果**：
   - 绘制实际价格与预测价格的散点图。
   - 分析模型系数，提取重要特征。

## 代码结构
1. **数据加载与预处理**：
   - `pumpkins = pd.read_csv('US-pumpkins.csv')`
   - 数据筛选、特征提取与缺失值处理。
2. **数据可视化**：
   - 使用 `matplotlib` 绘制散点图、直方图等。
3. **模型构建与评估**：
   - 使用 `sklearn` 构建线性回归和多项式回归模型。
   - 评估模型性能并可视化结果。



## 结论
通过本项目，我们成功分析了南瓜价格与时间、品种之间的关系，并构建了有效的预测模型，得出南瓜价格与南瓜品种的相关性高于销售日期的结论。可以进一步优化模型，引入更多特征以提高预测精度。

